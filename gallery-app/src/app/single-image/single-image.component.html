<div class="single-image-container">
  <!-- Page Title -->
  <h1 class="page-title">Through the Art.</h1>

  <div *ngIf="image" class="image-content">
    <!-- Image Section with Title and Artist Above -->
    <div class="image-section">
      <div class="image-header">
        <div class="title-left">{{ image.title || ('image.unknown' | translate) }}</div>
        <div class="artist-right">{{ image.artist || ('image.unknown' | translate) }}</div>
      </div>
      <div class="image-wrapper" (click)="openModal()">
        <img 
          [src]="image.src" 
          [alt]="image.title || ('image.unknown' | translate)"
          loading="eager"
          fetchpriority="high"
        />
      </div>
    </div>

    <!-- Description Section -->
    <div class="description-side">
      <div class="thumbnail-container">
        <img 
          [src]="image.src" 
          [alt]="image.title || ('image.unknown' | translate)" 
          class="description-thumbnail"
          loading="lazy"
        />
        <!-- Visual dimension lines with actual measurements -->
        <div class="dimension-lines">
          <div class="dimension-width">
            <span class="dimension-label" *ngIf="getFormattedWidth()">{{ getFormattedWidth() }}</span>
          </div>
          <div class="dimension-height">
            <span class="dimension-label-vertical" *ngIf="getFormattedHeight()">{{ getFormattedHeight() }}</span>
          </div>
        </div>
      </div>
      <div class="image-description">
        <div class="meta"><strong>{{ 'image.year' | translate }}</strong> {{ image.year || ('image.unknown' | translate) }}</div>
        <div class="meta" *ngIf="image.materials || true"><strong>{{ 'image.material' | translate }}</strong> {{ image.materials || ('image.unknown' | translate) }}</div>
        <div class="meta" *ngIf="getFormattedDimensions()"><strong>{{ 'image.dimensions' | translate }}</strong> {{ getFormattedDimensions() }}</div>
        <div class="meta"><strong>{{ 'image.description' | translate }}</strong></div>
        <div class="meta-text">{{ image.description || ('image.unknown' | translate) }}</div>
      </div>
      <button class="info-button" (click)="showPopup()">Send Message</button>
    </div>
  </div>
</div>

<!-- Floating Back Button -->
<button class="back-to-paintings" (click)="goBackToPaintings()">
  â† Back to Paintings
</button>

<!-- Modal -->
<div class="modal" *ngIf="isModalOpen" (click)="closeModal()">
  <!-- X button -->
  <span class="close" (click)="closeModal(); $event.stopPropagation()">&times;</span>
  <!-- Zoomed Image -->
  <img class="modal-content" [src]="image?.src" [alt]="image?.title || ('image.unknown' | translate)" />
</div>

<!-- Contact Form Popup -->
<app-popup 
  [isOpen]="isPopupOpen" 
  [paintingInfo]="getPaintingInfo()"
  (closePopup)="closePopup()">
</app-popup>
